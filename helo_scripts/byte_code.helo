fn count_a s =
    let fn cnt s,n =
        if str_some s
        then if (str_head s) `char_eq` 'a'
             then cnt (str_tail s),(n + 1)
             else cnt (str_tail s),n
        else n
    in cnt s,0

fn filter_out s,c =
    if str_some s then
        if (str_head s) `char_eq` c then
            filter_out (str_tail s),c
        else (char_to_str (str_head s)) `str_cat` (filter_out (str_tail s),c)
    else ""

fn main = filter_out "abcabc",'a'